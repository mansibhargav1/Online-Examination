<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add Question</title>
    <link rel="stylesheet" href="styles.css">

    <style>
        body {
            background: #e8f1ff;
            font-family: 'Segoe UI', sans-serif;
            margin: 0;
        }

        .top-bar {
            background: #0d6efd;
            color: white;
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            font-size: 22px;
            font-weight: bold;
        }

        .nav-links a {
            margin-left: 20px;
            color: white;
            font-size: 16px;
            text-decoration: none;
            font-weight: 500;
        }

        .nav-links a:hover {
            text-decoration: underline;
        }

        .button-container {
            margin-top: 30px;
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .menu-btn {
            background: #0d6efd;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            box-shadow: 0px 3px 6px rgba(0,0,0,0.15);
        }

        .menu-btn:hover {
            background: #0b5ed7;
        }

        .card {
            background: white;
            width: 55%;
            margin: 60px auto;
            padding: 35px;
            border-radius: 14px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        h2 {
            color: #0d6efd;
            text-align: center;
            margin-bottom: 25px;
        }

        label {
            margin-top: 15px;
            font-weight: bold;
            display: block;
        }

        input {
            width: 100%;
            padding: 12px;
            margin-top: 8px;
            border-radius: 8px;
            border: 1px solid #ccc;
            font-size: 16px;
        }

        button.submit-btn {
            width: 100%;
            background: #0d6efd;
            margin-top: 25px;
            padding: 14px;
            border-radius: 8px;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
        }

        button.submit-btn:hover {
            background: #0b5ed7;
        }

        .success-msg {
            margin-top: 15px;
            text-align: center;
            color: #0f5132;
            background: #d1e7dd;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #badbcc;
        }

        .error-msg {
            margin-top: 15px;
            text-align: center;
            color: #842029;
            background: #f8d7da;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #f5c2c7;
        }
    </style>
</head>

<body>

<!-- TOP BAR -->
<div class="top-bar">
    Online Examination System
    <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="admin-dashboard.html">Admin Dashboard</a>
        <a href="index.html" style="color:#ffdddd; font-weight:bold;">Exit</a>
    </div>
</div>

<!-- BUTTON BAR -->
<div class="button-container">
    <button class="menu-btn" onclick="location.href='add-questions.html'">Add Question</button>
    <button class="menu-btn" onclick="location.href='update-questions.html'">Update Question</button>
    <button class="menu-btn" onclick="location.href='delete-questions.html'">Delete Question</button>
</div>

<!-- WHITE CARD -->
<div class="card">
    <h2>Add Question</h2>

    <form id="questionForm">
        <label>Question Text:</label>
        <input id="questionText" type="text" placeholder="Enter question text" required>

        <label>Option A:</label>
        <input id="optionA" type="text" placeholder="Enter option A" required>

        <label>Option B:</label>
        <input id="optionB" type="text" placeholder="Enter option B" required>

        <label>Option C:</label>
        <input id="optionC" type="text" placeholder="Enter option C" required>

        <label>Option D:</label>
        <input id="optionD" type="text" placeholder="Enter option D" required>

        <label>Correct Answer (A/B/C/D):</label>
        <input id="correctAnswer" maxlength="1" placeholder="Correct option" required>

        <button type="submit" class="submit-btn">Add Question</button>
    </form>

    <div id="msg"></div>
</div>

<script>
document.getElementById("questionForm").addEventListener("submit", async (e) => {
    e.preventDefault();

    const question = {
        questionText: questionText.value,
        optionA: optionA.value,
        optionB: optionB.value,
        optionC: optionC.value,
        optionD: optionD.value,
        correctAnswer: correctAnswer.value.toUpperCase()
    };

    const msgBox = document.getElementById("msg");
    msgBox.innerHTML = "";

    try {
        const res = await fetch("http://localhost:8081/api/questions/add", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(question)
        });

        if (res.ok) {
            msgBox.innerHTML = '<p class="success-msg">Question added successfully!</p>';
            document.getElementById("questionForm").reset();
        } else {
            msgBox.innerHTML = '<p class="error-msg">Failed to add question.</p>';
        }
    } catch (err) {
        msgBox.innerHTML = '<p class="error-msg">Server error.</p>';
    }
});
</script>

</body>
</html>

